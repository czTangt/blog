<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Android Studio 配置 - czTang</title><meta name=author content="czTang">
<meta name=description content="关于 Android Studio 的使用和配置。
"><meta name=keywords content='config,android'><meta itemprop=name content="Android Studio 配置"><meta itemprop=description content="关于 Android Studio 的使用和配置。"><meta itemprop=datePublished content="2024-11-05T17:24:20+08:00"><meta itemprop=dateModified content="2024-11-26T20:45:13+08:00"><meta itemprop=wordCount content="831"><meta itemprop=keywords content="Config,Android"><meta property="og:url" content="https://czTangt.github.io/blog/posts/config/android-studio/"><meta property="og:site_name" content="czTang"><meta property="og:title" content="Android Studio 配置"><meta property="og:description" content="关于 Android Studio 的使用和配置。"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-05T17:24:20+08:00"><meta property="article:modified_time" content="2024-11-26T20:45:13+08:00"><meta property="article:tag" content="Config"><meta property="article:tag" content="Android"><meta name=twitter:card content="summary"><meta name=twitter:title content="Android Studio 配置"><meta name=twitter:description content="关于 Android Studio 的使用和配置。"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://nuthecz.oss-cn-hangzhou.aliyuncs.com/file/202410312135963.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical type=text/html href=https://czTangt.github.io/blog/posts/config/android-studio/ title="Android Studio 配置 - czTang"><link rel=prev type=text/html href=https://czTangt.github.io/blog/posts/pwn/dynamic-allocator-misuse/ title="Dynamic Allocator Misuse"><link rel=next type=text/html href=https://czTangt.github.io/blog/posts/programming/cpp/ title="C 拾遗和 C++ 学习"><link rel=stylesheet href=/blog/css/style.min.css><link rel=preload href=/blog/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/blog/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/blog/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/blog/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Android Studio 配置","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/czTangt.github.io\/blog\/posts\/config\/android-studio\/"},"genre":"posts","keywords":"config, android","wordcount":831,"url":"https:\/\/czTangt.github.io\/blog\/posts\/config\/android-studio\/","datePublished":"2024-11-05T17:24:20+08:00","dateModified":"2024-11-26T20:45:13+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"czTang"},"description":""}</script><script src=/blog/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/blog/ title=czTang><span class=header-title-pre><i class='fa fa-coffee'>&nbsp</i></span><span class=header-title-text>czTang</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/blog/archives/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Archives</a></li><li class=menu-item><a class=menu-link href=/blog/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=/blog/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/blog/about/><i class="fa-solid fa-user fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/blog/ title=czTang><span class=header-title-pre><i class='fa fa-coffee'>&nbsp</i></span><span class=header-title-text>czTang</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/blog/archives/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Archives</a></li><li class=menu-item><a class=menu-link href=/blog/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=/blog/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/blog/about/><i class="fa-solid fa-user fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=合集><div class="details collection-details open"><div class="details-summary collection-summary"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i>
<span class=collection-name data-collections=合集>Config</span>
<span class=collection-count>10</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class="details-content collection-content"><nav><ul class=collection-list><li class=collection-item><a href=/blog/posts/config/picgo/ title="VScode PicGo 插件配置">VScode PicGo 插件配置</a></li><li class=collection-item><a href=/blog/posts/config/git/ title="Some About Git">Some About Git</a></li><li class=collection-item><a href=/blog/posts/config/fixit/ title="Fixit 配置">Fixit 配置</a></li><li class=collection-item><span class=active title="Android Studio 配置">Android Studio 配置</span></li><li class=collection-item><a href=/blog/posts/config/ida/ title="IDA 配置和使用">IDA 配置和使用</a></li><li class=collection-item><a href=/blog/posts/config/android-phone/ title=安卓手机配置>安卓手机配置</a></li><li class=collection-item><a href=/blog/posts/config/jupyter/ title="Jupyter 使用">Jupyter 使用</a></li><li class=collection-item><a href=/blog/posts/config/plugin_of_java/ title="Plugin of Java">Plugin of Java</a></li><li class=collection-item><a href=/blog/posts/config/windows/ title="Windows 便捷使用">Windows 便捷使用</a></li><li class=collection-item><a href=/blog/posts/config/vscode/ title="VsCode 配置和使用">VsCode 配置和使用</a></li></ul><div class=collection-nav-simple><a href=/blog/posts/config/fixit/ class=collection-nav-item rel=prev title="Fixit 配置"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i></a><span class=text-secondary>4/10</span><a href=/blog/posts/config/ida/ class=collection-nav-item rel=next title="IDA 配置和使用"><i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></nav></div></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Android Studio 配置</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/czTangt title=作者 target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src=/blog/images/avatar.jpg alt=czTang data-title=czTang width=20 height=20 class=avatar style="background:url(/blog/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'>&nbsp;czTang</a></span><span class=post-included-in>&nbsp;收录于 <a href=/blog/categories/config/ class=post-category title="分类 - Config"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Config</a> 和 <a href=/blog/collections/config/ class=post-collection title="合集 - Config"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> Config</a></span></div><div class=post-meta-line><span title="发布于 2024-11-05 17:24:20"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2024.11.5>2024.11.5</time></span>&nbsp;<span title="更新于 2024-11-26 20:45:13"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden=true></i><time datetime=2024.11.26>2024.11.26</time></span>&nbsp;<span title="831 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 900 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 4 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#gradle下载配置>Gradle下载配置</a></li><li><a href=#新版-as-添加依赖>新版 AS 添加依赖</a></li><li><a href=#sd卡读写权限>SD卡读写权限</a></li><li><a href=#databinding使用>dataBinding使用</a></li><li><a href=#图片导入>图片导入</a></li><li><a href=#so文件生成>So文件生成</a><ul><li><a href=#添加新文件>添加新文件</a></li><li><a href=#编译多个so文件>编译多个so文件</a></li><li><a href=#引入第三方库>引入第三方库</a></li><li><a href=#使用汇编配置>使用汇编配置</a><ul><li><a href=#代码设置>代码设置</a></li><li><a href=#as-配置>AS 配置</a><ul><li><a href=#cmakeliststxt>CMakeLists.txt</a></li><li><a href=#buildgradlekts>build.gradle.kts</a></li></ul></li></ul></li><li><a href=#使用不同架构>使用不同架构</a></li></ul></li><li><a href=#相关操作>相关操作</a><ul><li><a href=#存储空间管理>存储空间管理</a></li><li><a href=#生成apk>生成apk</a></li></ul></li><li><a href=#报错汇总>报错汇总</a></li></ul></nav></div></div><div class=content id=content><p>关于 Android Studio 的使用和配置。</p><h2 id=gradle下载配置 class=heading-element><span>Gradle下载配置</span>
<a href=#gradle%e4%b8%8b%e8%bd%bd%e9%85%8d%e7%bd%ae class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>直接更换国内腾讯 <a href=https://mirrors.cloud.tencent.com/gradle/ target=_blank rel="external nofollow noopener noreferrer">镜像源</a>，打开 <code>gradle - wrapper -gradle-weapper.properties</code> 进行更改。然后点击 <code>Sync Now</code> 进行同步。参考-> <a href=https://blog.csdn.net/Systemmax20/article/details/131343623 target=_blank rel="external nofollow noopener noreferrer">Android导入项目时Gradle下载速度慢_导入gradle项目特别慢</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>#Sun Feb 25 20:22:32 GMT+08:00 2024
</span></span><span class=line><span class=cl>distributionBase=GRADLE_USER_HOME
</span></span><span class=line><span class=cl>distributionPath=wrapper/dists
</span></span><span class=line><span class=cl>distributionUrl=https\://mirrors.cloud.tencent.com/gradle/gradle-8.2-bin.zip # 这里就对应替换为腾讯的镜像地址
</span></span><span class=line><span class=cl>zipStoreBase=GRADLE_USER_HOME
</span></span><span class=line><span class=cl>zipStorePath=wrapper/dists</span></span></code></pre></td></tr></table></div></div><p>但是这样也是很慢，还是得等，有时候还会突然跑到源地址去下载，搞不明白。(后续补充：有时候改了国内源，然后停止加载zip文件，之后重试一下就快很多了)</p><h2 id=新版-as-添加依赖 class=heading-element><span>新版 AS 添加依赖</span>
<a href=#%e6%96%b0%e7%89%88-as-%e6%b7%bb%e5%8a%a0%e4%be%9d%e8%b5%96 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>这里是在 <code>settings.gradle.kts</code> 文件中添加 maven 仓库，然后在 app 的 <code>build.gradle.kts</code> 文件中添加依赖。查看这里<a href=http://www.yizu.org/archives/846/ target=_blank rel="external nofollow noopener noreferrer">Android Studio | 2022.3.1版本解决创建项目下载gradle缓慢问题</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// settings.gradle.kts 文件中
</span></span><span class=line><span class=cl>dependencyResolutionManagement {
</span></span><span class=line><span class=cl>    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
</span></span><span class=line><span class=cl>    repositories {
</span></span><span class=line><span class=cl>        google()
</span></span><span class=line><span class=cl>        mavenCentral()
</span></span><span class=line><span class=cl>        maven { url = uri(&#34;https://jitpack.io&#34;) }// as改版后的新添加方式
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// build.gradle.kts 文件中
</span></span><span class=line><span class=cl>dependencies {
</span></span><span class=line><span class=cl>    implementation(&#34;com.github.Hitomis:CircleMenu:v1.1.0&#34;) // as改版后的新添加方式
</span></span><span class=line><span class=cl>    }</span></span></code></pre></td></tr></table></div></div><h2 id=sd卡读写权限 class=heading-element><span>SD卡读写权限</span>
<a href=#sd%e5%8d%a1%e8%af%bb%e5%86%99%e6%9d%83%e9%99%90 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>对于低版本 sdk，只需要以下权限即可(在AndroidManifest.xml中修改)，在manifest标签中添加</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&#34;android.permission.READ_EXTERNAL_STORAGE&#34;</span><span class=nt>&gt;&lt;/uses-permission&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&#34;android.permission.WRITE_EXTERNAL_STORAGE&#34;</span><span class=nt>&gt;&lt;/uses-permission&gt;</span></span></span></code></pre></td></tr></table></div></div><p>而对于高版本的 sdk，这里是34，则需要添加东西。新加入的在application标签中添加</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&#34;android.permission.READ_EXTERNAL_STORAGE&#34;</span><span class=nt>&gt;&lt;/uses-permission&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&#34;android.permission.WRITE_EXTERNAL_STORAGE&#34;</span><span class=nt>&gt;&lt;/uses-permission&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&#34;android.permission.MANAGE_EXTERNAL_STORAGE&#34;</span><span class=nt>&gt;&lt;/uses-permission&gt;</span>
</span></span><span class=line><span class=cl>android:requestLegacyExternalStorage=&#34;true&#34;</span></span></code></pre></td></tr></table></div></div><h2 id=databinding使用 class=heading-element><span>dataBinding使用</span>
<a href=#databinding%e4%bd%bf%e7%94%a8 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>刚开始创建的 <code>Launch Activity</code> 不用理会，但是对于新增加的<code>Activity</code>，想要使用 <code>dataBinding</code> 功能，就需要先在 <code>build.gradle.kts</code>文件中添加下面代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>android</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>......</span>
</span></span><span class=line><span class=cl>	<span class=n>buildFeatures</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>dataBinding</span> <span class=p>=</span> <span class=k>true</span> <span class=c1>// 确保这里启用了数据绑定
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>然后在相关 xml 文件中，对准 <code>androidx.constraintlayout.widget.ConstraintLayout</code>按下<code>alt + enter</code> 转化为 databinding 的模式。这样后续的 activity 才可以使用并编译apk成功。</p><h2 id=图片导入 class=heading-element><span>图片导入</span>
<a href=#%e5%9b%be%e7%89%87%e5%af%bc%e5%85%a5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>资源主要就是存放在 res 目录下，如下表所示各个目录的作用。</p><table><thead><tr><th>目录</th><th>作用</th></tr></thead><tbody><tr><td>drawable</td><td>存放所有的图片及图标配置（xml文件展示）</td></tr><tr><td>layout</td><td>布局，创建一个Activity一般会同步创建一个布局。</td></tr><tr><td>mipmap</td><td>存放各种分辨率的图标，平常用的就是 xxhdpi</td></tr><tr><td>values</td><td>一些固定的配置，例如值，主题等</td></tr></tbody></table><p>这里 drawable 存放的东西大多就是 图标的配置，在 As 中可以利用 <code>File → New → Android Resource File</code> 来生成一个配置文件，例如背景之类的可以重复使用。</p><p>同时使用<code>File → New → Image Asset</code> 可以创建 app 应用的图标，提供 svg 图片即可自动创建。使用<code>File → New → Vector Asset</code> 则是创建图片，将一个 svg 格式的图片转化为 xml 文件形式，然后供 <code>ImageView</code> 等控件使用。如果只有 png 格式的图片，首先需要转化为 svg 格式，这里推荐<a href=https://to.imagestool.com/zh-CN/png-to-svg target=_blank rel="external nofollow noopener noreferrer">网站</a>，其余网站转化的 svg 可能存在问题，As 不一定可以使用。</p><h2 id=so文件生成 class=heading-element><span>So文件生成</span>
<a href=#so%e6%96%87%e4%bb%b6%e7%94%9f%e6%88%90 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=添加新文件 class=heading-element><span>添加新文件</span>
<a href=#%e6%b7%bb%e5%8a%a0%e6%96%b0%e6%96%87%e4%bb%b6 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><ul><li>对于头文件 .h</li></ul><p>首先在 cpp 目录下创建相应文件，然后在 <code>CmakeLists.txt</code> 文件中添加下面的代码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=cl><span class=nb>include_directories</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>basic.h</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><ul><li>对于文件 .cpp
在 cpp 目录下创建，然后在 <code>CmakeLists.txt</code> 文件中的 <code>add_libraty</code> 添加新创建的 .cpp文件。这样多个 .cpp 文件就会编译为一个 so 库。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=cl><span class=nb>add_library</span><span class=p>(</span><span class=o>${</span><span class=nv>CMAKE_PROJECT_NAME</span><span class=o>}</span> <span class=s>SHARED</span>
</span></span><span class=line><span class=cl>        <span class=c># List C/C++ source files with relative paths to this CMakeLists.txt.
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>native-lib.cpp</span>
</span></span><span class=line><span class=cl>        <span class=s>checkfrida.cpp</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105172840.png?size=large" data-thumbnail="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105172840.png?size=small" data-sub-html="<h2>20241105172840</h2>"><img loading=lazy src=https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105172840.png alt=添加文件 srcset="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105172840.png?size=small, https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105172840.png?size=medium 1.5x, https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105172840.png?size=large 2x" data-title=20241105172840 style="background:url(/blog/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>添加文件</figcaption></figure></p><h3 id=编译多个so文件 class=heading-element><span>编译多个so文件</span>
<a href=#%e7%bc%96%e8%af%91%e5%a4%9a%e4%b8%aaso%e6%96%87%e4%bb%b6 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>这里就是再添加一个 add_library 文件，这样就可以编译为多个了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=cl><span class=nb>add_library</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=c># so 文件的名字
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>checkroot</span>
</span></span><span class=line><span class=cl>        <span class=c># 共享库
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>SHARED</span>
</span></span><span class=line><span class=cl>        <span class=c># List C/C++ source files with relative paths to this CMakeLists.txt.
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>checkroot.cpp</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173015.png?size=large" data-thumbnail="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173015.png?size=small" data-sub-html="<h2>20241105173015</h2>"><img loading=lazy src=https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173015.png alt=编译多个文件 srcset="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173015.png?size=small, https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173015.png?size=medium 1.5x, https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173015.png?size=large 2x" data-title=20241105173015 style="background:url(/blog/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>编译多个文件</figcaption></figure></p><h3 id=引入第三方库 class=heading-element><span>引入第三方库</span>
<a href=#%e5%bc%95%e5%85%a5%e7%ac%ac%e4%b8%89%e6%96%b9%e5%ba%93 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><ul><li>使用第三方库的函数</li></ul><p>这里就是利用 <code>target_link_libraries</code> 进行引用，注意对于每一个so文件，都需要进行引用操作。这里上面的是默认的，要是能在 <code>checkroot.cpp</code> 文件中使用 log，那么就需要自己手动进行引用了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=cl><span class=nb>target_link_libraries</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s>checkroot</span>
</span></span><span class=line><span class=cl>        <span class=c># List libraries link to the target library
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>android</span>
</span></span><span class=line><span class=cl>        <span class=s>log</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173045.png?size=large" data-thumbnail="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173045.png?size=small" data-sub-html="<h2>20241105173045</h2>"><img loading=lazy src=https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173045.png alt=引入库 srcset="https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173045.png?size=small, https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173045.png?size=medium 1.5x, https://nuthecz.oss-cn-hangzhou.aliyuncs.com/img/20241105173045.png?size=large 2x" data-title=20241105173045 style="background:url(/blog/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>引入库</figcaption></figure></p><h3 id=使用汇编配置 class=heading-element><span>使用汇编配置</span>
<a href=#%e4%bd%bf%e7%94%a8%e6%b1%87%e7%bc%96%e9%85%8d%e7%bd%ae class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>起因就是需要使用 SVC 这条汇编语句完成 frida 的检测，但是查阅资料不知道怎么进行，最后终于尝试成功了，在此记录流程。</p><h4 id=代码设置 class=heading-element><span>代码设置</span>
<a href=#%e4%bb%a3%e7%a0%81%e8%ae%be%e7%bd%ae class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h4><p>这里是复制 <a href=https://github.com/w3connext/jailbreak_root_detection/tree/main/android/src/main/cpp target=_blank rel="external nofollow noopener noreferrer">参考资料</a> 的代码，然后做了删减达到了下面的效果。
<code>bionic_asm.h</code> ，它包含了汇编语言需要的一些基础配置，例如 <code>&lt;asm/unistd.h></code> 中的系统调用号，<code>MAX_ERRNO</code> 是最大错误号的定义。最为关键的就是对于 <code>ENTRY</code> 和 <code>END</code> 的定义，没有这个定义，下面的汇编语言也就是会识别错误。同时这里和下面的 <code>syscall.S</code> 文件一样，只定义了 <code>aarch64</code> ， <code>x86_64</code> 两个架构，所以在<code>build.gradle.kts</code> 的 <code>abiFilters</code> 选项也只能存在两个架构，不然会因为其他架构的汇编不存在而报错。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#pragma once
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;asm/unistd.h&gt;</span><span class=cp> </span><span class=cm>/* For system call numbers. */</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define MAX_ERRNO 4095  </span><span class=cm>/* For recognizing system call error returns. */</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define __bionic_asm_custom_entry(f)
</span></span></span><span class=line><span class=cl><span class=cp>#define __bionic_asm_custom_end(f)
</span></span></span><span class=line><span class=cl><span class=cp>#define __bionic_asm_function_type @function
</span></span></span><span class=line><span class=cl><span class=cp>#define __bionic_asm_custom_note_gnu_section()
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#if defined(__aarch64__)
</span></span></span><span class=line><span class=cl><span class=cp>#define __bionic_asm_align 16
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#elif defined(__x86_64__)
</span></span></span><span class=line><span class=cl><span class=cp>#define __bionic_asm_align 16
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#define ENTRY_NO_DWARF(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    .text; \
</span></span></span><span class=line><span class=cl><span class=cp>    .globl f; \
</span></span></span><span class=line><span class=cl><span class=cp>    .balign __bionic_asm_align; \
</span></span></span><span class=line><span class=cl><span class=cp>    .type f, __bionic_asm_function_type; \
</span></span></span><span class=line><span class=cl><span class=cp>    f: \
</span></span></span><span class=line><span class=cl><span class=cp>    __bionic_asm_custom_entry(f); \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#define ENTRY(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    ENTRY_NO_DWARF(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    .cfi_startproc \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#define END_NO_DWARF(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    .size f, .-f; \
</span></span></span><span class=line><span class=cl><span class=cp>    __bionic_asm_custom_end(f) \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#define END(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    .cfi_endproc; \
</span></span></span><span class=line><span class=cl><span class=cp>    END_NO_DWARF(f) \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=cm>/* Like ENTRY, but with hidden visibility. */</span>
</span></span><span class=line><span class=cl><span class=cp>#define ENTRY_PRIVATE(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    ENTRY(f); \
</span></span></span><span class=line><span class=cl><span class=cp>    .hidden f \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=cm>/* Like ENTRY_NO_DWARF, but with hidden visibility. */</span>
</span></span><span class=line><span class=cl><span class=cp>#define ENTRY_PRIVATE_NO_DWARF(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    ENTRY_NO_DWARF(f); \
</span></span></span><span class=line><span class=cl><span class=cp>    .hidden f \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#define __BIONIC_WEAK_ASM_FOR_NATIVE_BRIDGE(f) \
</span></span></span><span class=line><span class=cl><span class=cp>    .weak f; \
</span></span></span><span class=line><span class=cl><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#define ALIAS_SYMBOL(alias, original) \
</span></span></span><span class=line><span class=cl><span class=cp>    .globl alias; \
</span></span></span><span class=line><span class=cl><span class=cp>    .equ alias, original
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define NOTE_GNU_PROPERTY() \
</span></span></span><span class=line><span class=cl><span class=cp>    __bionic_asm_custom_note_gnu_section()</span></span></span></code></pre></td></tr></table></div></div><p>这里就是 <code>syscal.S</code> 文件，它这里实现了对于 <code>openat</code> 函数的底层汇编，但是因为这里找不到 <code>__set_errno_internal</code> 这个函数所在的文件，没有办法链接，所以直接注释掉。因为这个就是对于错误进行处理的函数，就是运行失败之后进入错误处理再返回，告知错误的类型。我这里不需要进行维护，所以错误的类型可有可无，直接注释即可。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;bionic_asm.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#if defined(__aarch64__)
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>ENTRY</span><span class=p>(</span><span class=n>my_openat</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mov</span>     <span class=n>x8</span><span class=p>,</span> <span class=n>__NR_openat</span>
</span></span><span class=line><span class=cl>    <span class=n>svc</span>     <span class=err>#</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>cmn</span>     <span class=n>x0</span><span class=p>,</span> <span class=err>#</span><span class=p>(</span><span class=n>MAX_ERRNO</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cneg</span>    <span class=n>x0</span><span class=p>,</span> <span class=n>x0</span><span class=p>,</span> <span class=n>hi</span>
</span></span><span class=line><span class=cl><span class=c1>//    b.hi    __set_errno_internal
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ret</span>
</span></span><span class=line><span class=cl><span class=n>END</span><span class=p>(</span><span class=n>my_openat</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#elif defined(__x86_64__)
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>ENTRY</span><span class=p>(</span><span class=n>my_openat</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>movl</span>    <span class=err>$</span><span class=n>__NR_openat</span><span class=p>,</span> <span class=o>%</span><span class=n>eax</span>
</span></span><span class=line><span class=cl>    <span class=n>syscall</span>
</span></span><span class=line><span class=cl>    <span class=n>cmpq</span>    <span class=err>$</span><span class=o>-</span><span class=n>MAX_ERRNO</span><span class=p>,</span> <span class=o>%</span><span class=n>rax</span>
</span></span><span class=line><span class=cl>    <span class=n>jb</span>      <span class=n>my_openat_return</span>
</span></span><span class=line><span class=cl>    <span class=n>negl</span>    <span class=o>%</span><span class=n>eax</span>
</span></span><span class=line><span class=cl>    <span class=n>movl</span>    <span class=o>%</span><span class=n>eax</span><span class=p>,</span> <span class=o>%</span><span class=n>edi</span>
</span></span><span class=line><span class=cl><span class=c1>//    call    __set_errno_internal
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nl>my_openat_return</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>ret</span>
</span></span><span class=line><span class=cl><span class=n>END</span><span class=p>(</span><span class=n>my_openat</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endif</span></span></span></code></pre></td></tr></table></div></div><p>然后最后在需要使用外部汇编文件的代码中加入下面这一条代码。这样才可以进行函数的调用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=n>my_openat</span><span class=p>(</span><span class=kt>int</span> <span class=n>dirfd</span><span class=p>,</span> <span class=k>const</span> <span class=kt>char</span> <span class=o>*</span><span class=k>const</span> <span class=n>__pass_object_size</span> <span class=n>pathname</span><span class=p>,</span> <span class=kt>int</span> <span class=n>flags</span><span class=p>,</span> <span class=n>mode_t</span> <span class=n>modes</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><h4 id=as-配置 class=heading-element><span>AS 配置</span>
<a href=#as-%e9%85%8d%e7%bd%ae class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h4><h5 id=cmakeliststxt class=heading-element><span>CMakeLists.txt</span>
<a href=#cmakeliststxt class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h5><p>添加 <code>enable_language(ASM)</code>，允许使用汇编语言，不加这个就会报错。同时下面链接库添加新增的上面的两个文件，保证可以整合到一个 so 文件中。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=cl><span class=nb>enable_language</span><span class=p>(</span><span class=s>ASM</span><span class=p>)</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=nb>add_library</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=c># so 文件的名字
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>checkfrida</span>
</span></span><span class=line><span class=cl>        <span class=c># 共享库
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>SHARED</span>
</span></span><span class=line><span class=cl>        <span class=c># List C/C++ source files with relative paths to this CMakeLists.txt.
</span></span></span><span class=line><span class=cl><span class=c></span>        <span class=s>checkfrida.cpp</span>
</span></span><span class=line><span class=cl>        <span class=s>asm/bionic_asm.h</span>
</span></span><span class=line><span class=cl>        <span class=s>asm/syscall.S</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h5 id=buildgradlekts class=heading-element><span>build.gradle.kts</span>
<a href=#buildgradlekts class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h5><p>在 <code>android</code>-—<code>defaultConfig</code> 的路径下添加 <code>ndk</code>，这里的 <code>abiFilters</code> 和官网给的样例不一致，具体看 <a href=https://blog.csdn.net/u011106915/article/details/106543464 target=_blank rel="external nofollow noopener noreferrer">参考资料</a>，需要使用特定格式进行架构的添加。这里查看下面 <strong>使用不同结构的代码</strong>。同时这里因为只写了两种架构的 SVC 汇编，所以固定了架构，因此最后生成的 so 就只有这两种架构的文件了。如果不定义这个配置，那么默认就是会存在四种架构的 so 文件。</p><h3 id=使用不同架构 class=heading-element><span>使用不同架构</span>
<a href=#%e4%bd%bf%e7%94%a8%e4%b8%8d%e5%90%8c%e6%9e%b6%e6%9e%84 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>As 进行了改版，所以之前的方式不能使用了。这里是在 app 的 <code>build.gradle.kts</code> 文件中添加。下面展示了两种方式。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>android {
</span></span><span class=line><span class=cl>		...
</span></span><span class=line><span class=cl>    defaultConfig {
</span></span><span class=line><span class=cl>				...
</span></span><span class=line><span class=cl>        ndk {
</span></span><span class=line><span class=cl>		    // 第一种方式
</span></span><span class=line><span class=cl>            abiFilters.addAll(arrayOf(&#34;arm64-v8a&#34;, &#34;x86_64&#34;))
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            // 第二种方式
</span></span><span class=line><span class=cl>            //abiFilters.add(&#34;arm64-v8a&#34;)
</span></span><span class=line><span class=cl>            //abiFilters.add(&#34;x86_64&#34;)
</span></span><span class=line><span class=cl>            //abiFilters.add(&#34;armeabi-v7a&#34;)
</span></span><span class=line><span class=cl>            //abiFilters.add(&#34;x86&#34;)
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}</span></span></code></pre></td></tr></table></div></div><h2 id=相关操作 class=heading-element><span>相关操作</span>
<a href=#%e7%9b%b8%e5%85%b3%e6%93%8d%e4%bd%9c class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=存储空间管理 class=heading-element><span>存储空间管理</span>
<a href=#%e5%ad%98%e5%82%a8%e7%a9%ba%e9%97%b4%e7%ae%a1%e7%90%86 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>移动 <code>.gradle</code> 到指定位置</p><ul><li><a href=https://www.cnblogs.com/tc310/p/16884368.html target=_blank rel="external nofollow noopener noreferrer">将 .gradle文件 从C盘移动到D盘</a>，这里同时还需要相应修改 <code>idea.plugins.path</code> 和 <code>idea.log.path</code></li></ul><p>移动 <code>.android</code> 到指定位置</p><ul><li><a href=https://blog.csdn.net/weixin_42768634/article/details/115142632 target=_blank rel="external nofollow noopener noreferrer">解决方案</a></li></ul><h3 id=生成apk class=heading-element><span>生成apk</span>
<a href=#%e7%94%9f%e6%88%90apk class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><ul><li><code>build -> Generate Signed Bundle or APK</code>：选择APK，然后创建key（注意需要路径完整），之后再选择 release 即可</li><li>生成的 <code>app-debug.apk</code> 在路径 <code>/app/build/outputs/apk/debug/</code> 下面，或者在 <code>/app/build/intermediates/apk/debug/</code> 目录下。这里不知道是什么的变化引起的生成存放目录的变化。</li><li><code>build → Generate Signed Bundle or APK</code> 可以生成签名后的 apk（release版本），它存放在和 <code>debug</code>类似的目录下。这里我的 vivo 手机不能使用 debug 版本，只能下载 release 版本。</li></ul><h2 id=报错汇总 class=heading-element><span>报错汇总</span>
<a href=#%e6%8a%a5%e9%94%99%e6%b1%87%e6%80%bb class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>遇到问题 <code>Cannot use connection to Gradle distribution 'https://mirrors.cloud.tencent.com/gradle/gradle-8.2-bin.zip' as it has been stopped.</code></p><ul><li>这里直接关闭项目，再重新打开即可。</li></ul><p><code>Error running 'app': Default Activity not found</code></p><ul><li>这里修改 configuration，更改 Launch Options -> <code>Launch:nothing</code></li><li><a href=https://blog.csdn.net/qq_36792930/article/details/91041904 target=_blank rel="external nofollow noopener noreferrer">android studio怎么运行没有activity的service、broadcastReceiver、cotentProvicer等</a></li></ul><p>日志不能在 As 中显示</p><ul><li>检查算法助手有没有 hook 对应程序，如果存在，那么它好像开机自启，自动将日志捕获了。关闭应用 hook 就可以显示日志了</li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2024-11-26 20:45:13">更新于 2024.11.26&nbsp;
<a class=git-hash href=https://github.com/czTangt/blog.git/commit/7a195be733ef2c288998cbdf679d956650247077 rel="external nofollow noopener noreferrer" target=_blank title="commit by czTangt(cz.tangt@gmail.com) 7a195be733ef2c288998cbdf679d956650247077: add content to cpp"><i class="fa-solid fa-hashtag fa-fw" aria-hidden=true></i>7a195be</a></span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href="https://github.com/czTangt/blog.git/blob/main/content/posts%5cconfig%5cAndroid_Studio.md?plain=1" title=查看源码 target=_blank rel="external nofollow noopener noreferrer" class=link-to-source>查看源码</a></span><span><a href=https://github.com/czTangt/blog.git/edit/main/content/posts%5cconfig%5cAndroid_Studio.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span><span><a href="https://github.com/czTangt/blog.git/issues/new?title=[BUG]%20Android+Studio+%E9%85%8D%E7%BD%AE&amp;body=%7cField%7cValue%7c%0A%7c-%7c-%7c%0A%7cTitle%7cAndroid+Studio+%E9%85%8D%E7%BD%AE%7c%0A%7cURL%7chttps://czTangt.github.io/blog/posts/config/android-studio/%7c%0A%7cFilename%7chttps://github.com/czTangt/blog.git/blob/main/content/posts%5cconfig%5cAndroid_Studio.md?plain=1%7c" title=报告问题 target=_blank rel="external nofollow noopener noreferrer" class=link-to-report>报告问题</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 X" data-sharer=twitter data-url=https://czTangt.github.io/blog/posts/config/android-studio/ data-title="Android Studio 配置" data-hashtags=config,android><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://czTangt.github.io/blog/posts/config/android-studio/ data-hashtag=config><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://czTangt.github.io/blog/posts/config/android-studio/ data-title="Android Studio 配置"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/blog/tags/config/ class=post-tag title="标签 - Config">Config</a><a href=/blog/tags/android/ class=post-tag title="标签 - Android">Android</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/blog/>主页</a></span></section></div><div class=post-nav><a href=/blog/posts/pwn/dynamic-allocator-misuse/ class=post-nav-item rel=prev title="Dynamic Allocator Misuse"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Dynamic Allocator Misuse</a><a href=/blog/posts/programming/cpp/ class=post-nav-item rel=next title="C 拾遗和 C++ 学习">C 拾遗和 C++ 学习<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article><aside class=toc id=toc-auto aria-label=目录><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line powered order-1">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.136.5"><img class=hugo-icon src=/blog/images/hugo.min.svg alt="Hugo logo"> Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.14"><img class=fixit-icon src=/blog/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright order-2" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2024</span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/czTangt/blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true" width="56" height="56"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>该网站在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/blog/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=preload href=/blog/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/blog/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/blog/lib/cookieconsent/cookieconsent.min.css><script src=/blog/lib/autocomplete/autocomplete.min.js defer></script><script src=/blog/lib/fuse/fuse.min.js defer></script><script src=/blog/lib/lightgallery/lightgallery.min.js defer></script><script src=/blog/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/blog/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/blog/lib/sharer/sharer.min.js async defer></script><script src=/blog/lib/katex/katex.min.js defer></script><script src=/blog/lib/katex/auto-render.min.js defer></script><script src=/blog/lib/katex/mhchem.min.js defer></script><script src=/blog/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/blog/js/codeblock.js defer></script><script src=https://libs.baidu.com/jquery/2.1.4/jquery.min.js defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{enable:!1},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/blog/search.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},version:"v0.3.14"}</script><script src=/blog/js/theme.min.js defer></script></body></html>